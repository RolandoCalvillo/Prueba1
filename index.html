<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluaci√≥n de Desempe√±o</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #2a6aff;
        }
        .progress-bar-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 9999px;
            overflow: hidden;
            height: 1.25rem;
        }
        .progress-bar {
            height: 100%;
            border-radius: 9999px;
            transition: width 0.5s ease-in-out;
        }
        .tab-button.active {
            border-bottom: 2px solid #2a6aff;
            color: #2a6aff;
            font-weight: 600;
        }
        .badge {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            border-radius: 1rem;
            text-align: center;
        }
        .badge .icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 0.5rem;
            font-size: 2rem;
            color: white;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <!-- Pantalla de inicio de sesi√≥n -->
    <div id="loginScreen" class="bg-white p-8 rounded-2xl shadow-xl w-full max-w-lg transition-all duration-500 ease-in-out">
        <div class="text-center">
            <h1 class="text-3xl font-bold text-[#2a6aff] mb-2">Evaluaci√≥n Modular ‚Äì Departamento de Servicios Estudiantiles</h1>
            <p class="text-gray-600 text-lg mb-6">M√≥dulo M8, Agosto 2025 üóìÔ∏è</p>
            <p class="text-gray-700 mb-8">Consulta tu desempe√±o del m√≥dulo de manera detallada ingresando tu usuario Vici. ‚ú®</p>
        </div>
        <div class="space-y-4">
            <label for="asesorInput" class="block text-gray-700 font-medium">Usuario</label>
            <input type="text" id="asesorInput" placeholder="Ejemplo: Asesor01" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#2a6aff]">
            <p id="error-message" class="text-red-500 text-sm hidden">Usuario no v√°lido. Por favor, intenta de nuevo.</p>
            <button id="loginButton" class="w-full bg-[#2a6aff] text-white py-3 rounded-xl font-semibold shadow-lg hover:bg-blue-700 transition-colors duration-300 transform hover:scale-105">
                Consultar mi Evaluaci√≥n üöÄ
            </button>
        </div>
    </div>

    <!-- Pantalla de evaluaci√≥n -->
    <div id="evaluationScreen" class="hidden bg-white p-6 md:p-8 rounded-2xl shadow-xl w-full max-w-6xl transition-all duration-500 ease-in-out">
        <!-- Encabezado de la evaluaci√≥n -->
        <div class="flex flex-col md:flex-row items-center justify-between mb-6">
            <div class="text-center md:text-left mb-4 md:mb-0">
                <h2 class="text-2xl md:text-3xl font-bold text-gray-800">Resultados de Evaluaci√≥n üìù</h2>
                <p id="asesorName" class="text-lg text-gray-600 mt-1"></p>
            </div>
            <div class="flex items-center space-x-4">
                <span class="bg-gray-200 text-gray-700 px-4 py-2 rounded-xl text-sm font-medium">M√≥dulo M8, Agosto 2025</span>
                <span id="evaluationStatus" class="bg-[#ff8500] text-white px-4 py-2 rounded-xl text-sm font-medium">Desempe√±o Destacado</span>
                <button id="backButton" class="bg-gray-300 text-gray-700 px-4 py-2 rounded-xl font-semibold hover:bg-gray-400 transition-colors duration-300">
                    <i class="fas fa-arrow-left"></i> Volver
                </button>
            </div>
        </div>

        <!-- Navegaci√≥n por pesta√±as -->
        <div class="border-b border-gray-200 mb-6">
            <nav class="flex flex-wrap -mb-px text-sm font-medium text-center" id="tabs">
                <button class="tab-button active py-4 px-6 block hover:text-[#2a6aff] focus:outline-none" data-tab="summary">Resumen General üìà</button>
                <button class="tab-button py-4 px-6 block hover:text-[#2a6aff] focus:outline-none" data-tab="trends">Tendencias üìä</button>
                <button class="tab-button py-4 px-6 block hover:text-[#2a6aff] focus:outline-none" data-tab="badges">Insignias üèÖ</button>
            </nav>
        </div>

        <!-- Contenido de las pesta√±as -->
        <div id="tabContent">
            <!-- Pesta√±a de Resumen General -->
            <div id="summary" class="tab-pane">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div class="bg-gray-50 p-6 rounded-2xl shadow-sm border border-gray-200">
                        <div class="flex items-center justify-between mb-4">
                            <span class="text-lg font-semibold text-gray-700">Calificaci√≥n General üåü</span>
                            <span id="generalScore" class="text-3xl font-bold text-[#2a6aff]">87</span>
                        </div>
                        <div class="progress-bar-container">
                            <div id="generalScoreBar" class="progress-bar bg-[#2a6aff]" style="width: 87%;"></div>
                        </div>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-2xl shadow-sm border border-gray-200">
                        <div class="flex items-center justify-between mb-4">
                            <span class="text-lg font-semibold text-gray-700">Meta de Llamadas üìû</span>
                            <span id="callsGoal" class="text-3xl font-bold text-[#ff8500]">95%</span>
                        </div>
                        <div class="progress-bar-container">
                            <div id="callsGoalBar" class="progress-bar bg-[#ff8500]" style="width: 95%;"></div>
                        </div>
                    </div>
                </div>

                <h3 class="text-xl font-bold text-gray-800 mb-4">Criterios de Evaluaci√≥n üìã</h3>
                <div id="evaluationCriteria" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                    <!-- Los criterios se generar√°n con JS -->
                </div>

                <div class="bg-gray-100 p-6 rounded-2xl shadow-inner border border-gray-200">
                    <h4 class="text-lg font-semibold text-gray-700 mb-2">Comentarios Generales del Supervisor üí¨</h4>
                    <p id="generalComments" class="text-gray-600 italic leading-relaxed"></p>
                </div>
                
                <div class="mt-8 text-center">
                    <button id="detailsButton" class="bg-[#2a6aff] text-white py-3 px-8 rounded-xl font-semibold shadow-lg hover:bg-blue-700 transition-colors duration-300 transform hover:scale-105">
                        Detalles de Evaluaci√≥n üìù
                    </button>
                </div>
            </div>

            <!-- Pesta√±a de Tendencias -->
            <div id="trends" class="tab-pane hidden">
                <h3 class="text-xl font-bold text-gray-800 mb-4">Evoluci√≥n del Desempe√±o Anual üìà</h3>
                <div class="bg-gray-50 p-6 rounded-2xl shadow-sm border border-gray-200 mb-8">
                    <canvas id="performanceChart" class="w-full"></canvas>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-gray-50 p-6 rounded-2xl shadow-sm border border-gray-200">
                        <h4 class="text-lg font-semibold text-gray-700 mb-2">Comparativa √öltimos 3 Meses üóìÔ∏è</h4>
                        <div id="monthlyComparison" class="space-y-2">
                            <!-- La comparativa se generar√° con JS -->
                        </div>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-2xl shadow-sm border border-gray-200">
                        <h4 class="text-lg font-semibold text-gray-700 mb-2">M√©tricas Destacadas del Mes ‚ú®</h4>
                        <div class="space-y-4">
                            <div>
                                <p class="font-medium text-[#2a6aff]">Mayor Mejora üí™</p>
                                <p id="majorImprovement" class="text-gray-600 text-sm"></p>
                                <p id="improvementComments" class="text-gray-500 italic mt-1 text-sm"></p>
                            </div>
                            <div>
                                <p class="font-medium text-[#ff8500]">√Årea Cr√≠tica ‚ö†Ô∏è</p>
                                <p id="criticalArea" class="text-gray-600 text-sm"></p>
                                <p id="criticalComments" class="text-gray-500 italic mt-1 text-sm"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pesta√±a de Insignias -->
            <div id="badges" class="tab-pane hidden">
                <h3 class="text-xl font-bold text-gray-800 mb-4">Tus Insignias üèÜ</h3>
                <div id="earnedBadges" class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8">
                    <!-- Las insignias ganadas se generar√°n con JS -->
                </div>

                <h3 class="text-xl font-bold text-gray-800 mb-4">Pr√≥ximas Insignias üéØ</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-gray-50 p-6 rounded-2xl shadow-sm border border-gray-200">
                        <h4 class="text-lg font-semibold text-gray-700 mb-2">Fortalezas ‚úÖ</h4>
                        <ul id="strengths" class="list-disc list-inside space-y-1 text-gray-600">
                            <!-- Las fortalezas se generar√°n con JS -->
                        </ul>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-2xl shadow-sm border border-gray-200">
                        <h4 class="text-lg font-semibold text-gray-700 mb-2">√Åreas de Oportunidad üöÄ</h4>
                        <ul id="opportunities" class="list-disc list-inside space-y-1 text-gray-600">
                            <!-- Las √°reas de oportunidad se generar√°n con JS -->
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const loginScreen = document.getElementById('loginScreen');
        const evaluationScreen = document.getElementById('evaluationScreen');
        const loginButton = document.getElementById('loginButton');
        const backButton = document.getElementById('backButton');
        const asesorInput = document.getElementById('asesorInput');
        const asesorName = document.getElementById('asesorName');
        const tabs = document.getElementById('tabs');
        const tabContent = document.getElementById('tabContent');
        const errorMessage = document.getElementById('error-message');
        const detailsButton = document.getElementById('detailsButton');

        // Datos de ejemplo para los asesores
        const asesorData = {
            'Asesor01': {
                name: 'Asesor 01',
                score: 87,
                callsGoal: 95,
                criteria: {
                    'Retenci√≥n': { score: 92, comment: 'Excelente seguimiento de casos de baja.' },
                    'Reincorporaci√≥n': { score: 85, comment: 'Se necesita mejorar el seguimiento a estudiantes inactivos.' },
                    'Procesos': { score: 93, comment: 'Manejo impecable de los procesos administrativos.' },
                    'Llamada': { score: 78, comment: 'Mejorar el tiempo de respuesta en llamadas de alta duraci√≥n.' },
                    'WhatsApp': { score: 88, comment: 'Comunicaci√≥n clara y precisa a trav√©s de WhatsApp.' },
                    'Correo electr√≥nico': { score: 82, comment: 'Redacci√≥n de correos electr√≥nicos formal y completa.' },
                    'Viva Engage': { score: 95, comment: 'Participaci√≥n activa y resolutiva en la comunidad.' },
                    'Actividades administrativas': { score: 90, comment: 'Entrega de reportes en tiempo y forma.' }
                },
                generalComments: 'Carlos ha mostrado un excelente desempe√±o este mes. Su atenci√≥n al cliente es destacable y sigue los protocolos de manera consistente. Debe mejorar en los tiempos de respuesta para alcanzar los objetivos del equipo.',
                trends: {
                    months: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Agosto'],
                    scores: [75, 78, 81, 84, 87]
                },
                monthlyComparison: {
                    current: 'Agosto',
                    lastMonth: { month: 'Abril', score: 84, change: '+3' },
                    twoMonthsAgo: { month: 'Marzo', score: 81, change: '+6' }
                },
                metrics: {
                    majorImprovement: 'Retenci√≥n (+5%)',
                    improvementComments: 'Se mejor√≥ la retenci√≥n de estudiantes gracias a un plan de seguimiento proactivo.',
                    criticalArea: 'Llamada (-2%)',
                    criticalComments: 'Se detectaron √°reas de oportunidad en la gesti√≥n de llamadas de alta duraci√≥n.'
                },
                badges: [
                    { name: 'Maestro de Procesos', icon: 'fas fa-cogs', color: '#60a5fa' },
                    { name: 'Precisi√≥n en Calidad', icon: 'fas fa-award', color: '#ff8500' },
                    { name: 'Solucionador(a)', icon: 'fas fa-lightbulb', color: '#34d399' }
                ],
                nextBadges: {
                    strengths: ['Excelente seguimiento de protocolos', 'Alta calidad en la comunicaci√≥n con clientes'],
                    opportunities: ['Mejorar tiempos de respuesta en llamadas de alto volumen', 'Incrementar conocimiento de productos nuevos']
                }
            },
            'Asesor02': {
                name: 'Asesor 02',
                score: 75,
                callsGoal: 85,
                criteria: {
                    'Retenci√≥n': { score: 70, comment: 'Necesita mejorar el seguimiento.' },
                    'Reincorporaci√≥n': { score: 75, comment: 'Seguimiento de estudiantes inactivos con inconsistencias.' },
                    'Procesos': { score: 80, comment: 'Cumple con la mayor√≠a de los procesos.' },
                    'Llamada': { score: 85, comment: 'Buen manejo en llamadas de alto volumen.' },
                    'WhatsApp': { score: 80, comment: 'Comunicaci√≥n adecuada.' },
                    'Correo electr√≥nico': { score: 70, comment: 'Redacci√≥n de correos poco clara en ocasiones.' },
                    'Viva Engage': { score: 85, comment: 'Participaci√≥n constante en la comunidad.' },
                    'Actividades administrativas': { score: 70, comment: 'Entrega de reportes tard√≠a.' }
                },
                generalComments: 'El Asesor 02 muestra un rendimiento aceptable pero con varias √°reas de oportunidad. Es importante enfocarse en la mejora de la redacci√≥n de correos y la puntualidad en la entrega de reportes.',
                trends: {
                    months: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Agosto'],
                    scores: [70, 72, 74, 76, 75]
                },
                monthlyComparison: {
                    current: 'Agosto',
                    lastMonth: { month: 'Abril', score: 76, change: '-1' },
                    twoMonthsAgo: { month: 'Marzo', score: 74, change: '+1' }
                },
                metrics: {
                    majorImprovement: 'Llamada (+3%)',
                    improvementComments: 'Se detect√≥ una mejor√≠a significativa en la calidad de las llamadas.',
                    criticalArea: 'Retenci√≥n (-5%)',
                    criticalComments: 'Se necesita un plan de acci√≥n para mejorar la retenci√≥n de estudiantes.'
                },
                badges: [
                    { name: 'Buen Comunicador', icon: 'fas fa-comments', color: '#34d399' }
                ],
                nextBadges: {
                    strengths: ['Buen manejo de llamadas', 'Participaci√≥n activa en Viva Engage'],
                    opportunities: ['Mejorar la retenci√≥n y la puntualidad administrativa', 'Redacci√≥n de correos m√°s formal']
                }
            },
            // Datos de ejemplo para los dem√°s asesores
            'Asesor03': { name: 'Asesor 03', score: 90, callsGoal: 98, generalComments: 'Excelente desempe√±o en general.' },
            'Asesor04': { name: 'Asesor 04', score: 85, callsGoal: 90, generalComments: 'Buen desempe√±o, con algunas √°reas de mejora.' },
            'Asesor05': { name: 'Asesor 05', score: 78, callsGoal: 88, generalComments: 'Desempe√±o regular, necesita capacitaci√≥n.' },
            'Asesor06': { name: 'Asesor 06', score: 95, callsGoal: 99, generalComments: 'Desempe√±o excepcional, un referente para el equipo.' },
            'Asesor07': { name: 'Asesor 07', score: 82, callsGoal: 85, generalComments: 'Desempe√±o s√≥lido y constante.' },
            'Asesor08': { name: 'Asesor 08', score: 88, callsGoal: 92, generalComments: 'Muy buen desempe√±o, especialmente en procesos.' },
            'Asesor09': { name: 'Asesor 09', score: 70, callsGoal: 80, generalComments: 'Necesita mejorar en varios aspectos.' },
            'Asesor10': { name: 'Asesor 10', score: 91, callsGoal: 96, generalComments: 'Lider en su departamento, proactivo y eficiente.' },
            'Asesor11': { name: 'Asesor 11', score: 84, callsGoal: 89, generalComments: 'Desempe√±o consistente y responsable.' },
            'Asesor12': { name: 'Asesor 12', score: 89, callsGoal: 94, generalComments: 'Excelente manejo de conflictos y procesos.' },
            'Asesor13': { name: 'Asesor 13', score: 77, callsGoal: 82, generalComments: 'Requiere m√°s atenci√≥n y seguimiento en su desarrollo.' },
            'Asesor14': { name: 'Asesor 14', score: 93, callsGoal: 97, generalComments: 'Desempe√±o ejemplar, con excelente atenci√≥n al estudiante.' },
            'Asesor15': { name: 'Asesor 15', score: 81, callsGoal: 86, generalComments: 'Puntos fuertes en la atenci√≥n al cliente.' },
            'Asesor16': { name: 'Asesor 16', score: 90, callsGoal: 95, generalComments: 'Cumple con los objetivos de manera efectiva y constante.' },
            'Asesor17': { name: 'Asesor 17', score: 86, callsGoal: 91, generalComments: 'Desempe√±o s√≥lido, con margen de mejora.' },
            'Asesor18': { name: 'Asesor 18', score: 79, callsGoal: 84, generalComments: 'Desempe√±o aceptable, necesita m√°s proactividad.' },
        };
        
        let chart;

        loginButton.addEventListener('click', () => {
            const userId = asesorInput.value.trim();
            const data = asesorData[userId];
            if (data) {
                // Ocultar mensaje de error si existiera
                errorMessage.classList.add('hidden');
                
                // Actualizar los datos en la pantalla de evaluaci√≥n
                updateEvaluationData(data);
                
                // Cambiar de pantalla
                loginScreen.classList.add('hidden');
                evaluationScreen.classList.remove('hidden');

                // Mostrar la primera pesta√±a por defecto
                document.querySelector('.tab-button').click();

            } else {
                errorMessage.classList.remove('hidden');
            }
        });

        backButton.addEventListener('click', () => {
            evaluationScreen.classList.add('hidden');
            loginScreen.classList.remove('hidden');
            asesorInput.value = '';
            if (chart) {
                chart.destroy();
            }
        });
        
        detailsButton.addEventListener('click', () => {
            window.open('https://www.cnci.edu.mx/detalle-de-evaluacion', '_blank');
        });

        function updateEvaluationData(data) {
            asesorName.textContent = data.name;
            document.getElementById('generalScore').textContent = data.score;
            document.getElementById('generalScoreBar').style.width = `${data.score}%`;
            document.getElementById('callsGoal').textContent = `${data.callsGoal}%`;
            document.getElementById('callsGoalBar').style.width = `${data.callsGoal}%`;
            document.getElementById('generalComments').textContent = data.generalComments;

            // Generar din√°micamente los criterios de evaluaci√≥n
            const criteriaContainer = document.getElementById('evaluationCriteria');
            criteriaContainer.innerHTML = '';
            if (data.criteria) {
                const emojis = ['üèÜ', 'üß†', 'üíº', 'üìû', 'üí¨', 'üìß', 'ü§ù', 'üìÑ'];
                let i = 0;
                for (const key in data.criteria) {
                    const criterion = data.criteria[key];
                    criteriaContainer.innerHTML += `
                        <div class="bg-gray-50 p-4 rounded-xl shadow-sm border border-gray-200">
                            <h5 class="text-sm font-medium text-gray-700 flex items-center">${emojis[i % emojis.length]} ${key}</h5>
                            <div class="flex items-center justify-between mt-2">
                                <div class="progress-bar-container h-2.5">
                                    <div class="progress-bar bg-[#2a6aff]" style="width: ${criterion.score}%;"></div>
                                </div>
                                <span class="ml-4 text-gray-800 font-medium">${criterion.score}%</span>
                            </div>
                            <div class="bg-gray-200 text-gray-600 text-xs mt-3 p-2 rounded-lg italic">
                                "${criterion.comment}"
                            </div>
                        </div>
                    `;
                    i++;
                }
            } else {
                 criteriaContainer.innerHTML = '<p class="col-span-full text-center text-gray-500">Datos de criterios no disponibles para este asesor.</p>';
            }

            // Actualizar datos de Tendencias si existen
            if (data.trends) {
                updateTrendsTab(data.trends, data.monthlyComparison, data.metrics);
            } else {
                document.getElementById('trends').innerHTML = '<p class="text-center text-gray-500 p-8">No hay datos de tendencias para este asesor.</p>';
            }
            
            // Actualizar datos de Insignias si existen
            if (data.badges) {
                updateBadgesTab(data.badges, data.nextBadges);
            } else {
                document.getElementById('badges').innerHTML = '<p class="text-center text-gray-500 p-8">No hay datos de insignias para este asesor.</p>';
            }
        }
        
        function updateTrendsTab(trends, comparison, metrics) {
            // Actualizar gr√°fica
            const ctx = document.getElementById('performanceChart').getContext('2d');
            if (chart) {
                chart.destroy();
            }
            chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: trends.months,
                    datasets: [{
                        label: 'Calificaci√≥n General',
                        data: trends.scores,
                        backgroundColor: 'rgba(42, 106, 255, 0.2)',
                        borderColor: '#2a6aff',
                        borderWidth: 2,
                        tension: 0.4,
                        pointBackgroundColor: '#2a6aff',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 5
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 50,
                            max: 100,
                            ticks: {
                                callback: function(value) {
                                    return value + ' pts';
                                }
                            }
                        }
                    }
                }
            });

            // Actualizar comparativa mensual
            const comparisonContainer = document.getElementById('monthlyComparison');
            comparisonContainer.innerHTML = `
                <div class="flex justify-between items-center bg-gray-100 p-3 rounded-lg">
                    <span class="font-medium text-gray-700">${comparison.current}</span>
                    <span class="text-xl font-bold text-[#2a6aff]">${trends.scores[trends.scores.length-1]}</span>
                </div>
                <div class="flex justify-between items-center text-sm text-gray-600">
                    <span>${comparison.lastMonth.month}</span>
                    <span class="font-medium">${comparison.lastMonth.score} <span class="${comparison.lastMonth.change.includes('+') ? 'text-green-500' : 'text-red-500'}">${comparison.lastMonth.change}</span></span>
                </div>
                <div class="flex justify-between items-center text-sm text-gray-600">
                    <span>${comparison.twoMonthsAgo.month}</span>
                    <span class="font-medium">${comparison.twoMonthsAgo.score} <span class="${comparison.twoMonthsAgo.change.includes('+') ? 'text-green-500' : 'text-red-500'}">${comparison.twoMonthsAgo.change}</span></span>
                </div>
            `;
            
            // Actualizar m√©tricas destacadas
            document.getElementById('majorImprovement').textContent = metrics.majorImprovement;
            document.getElementById('improvementComments').textContent = metrics.improvementComments;
            document.getElementById('criticalArea').textContent = metrics.criticalArea;
            document.getElementById('criticalComments').textContent = metrics.criticalComments;
        }

        function updateBadgesTab(badges, nextBadges) {
            // Insignias ganadas
            const earnedBadgesContainer = document.getElementById('earnedBadges');
            earnedBadgesContainer.innerHTML = '';
            const badgeEmojis = {
                'Maestro de Procesos': '‚öôÔ∏è',
                'Precisi√≥n en Calidad': 'üíé',
                'Solucionador(a)': 'üí°',
                'Buen Comunicador': 'üó£Ô∏è'
            };

            badges.forEach(badge => {
                earnedBadgesContainer.innerHTML += `
                    <div class="badge bg-gray-50 shadow-md">
                        <div class="icon" style="background-color: ${badge.color};">
                             <i class="${badge.icon}"></i>
                        </div>
                        <p class="font-semibold text-gray-800 mt-2">${badge.name}</p>
                    </div>
                `;
            });
            
            // Pr√≥ximas insignias
            const strengthsList = document.getElementById('strengths');
            strengthsList.innerHTML = '';
            nextBadges.strengths.forEach(strength => {
                strengthsList.innerHTML += `<li>${strength}</li>`;
            });

            const opportunitiesList = document.getElementById('opportunities');
            opportunitiesList.innerHTML = '';
            nextBadges.opportunities.forEach(opportunity => {
                opportunitiesList.innerHTML += `<li>${opportunity}</li>`;
            });
        }

        // Manejar las pesta√±as
        tabs.addEventListener('click', (e) => {
            if (e.target.classList.contains('tab-button')) {
                // Eliminar la clase 'active' de todas las pesta√±as
                tabs.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                
                // Ocultar todos los paneles
                tabContent.querySelectorAll('.tab-pane').forEach(pane => pane.classList.add('hidden'));

                // A√±adir la clase 'active' a la pesta√±a clicada
                e.target.classList.add('active');

                // Mostrar el panel correspondiente
                const tabId = e.target.dataset.tab;
                document.getElementById(tabId).classList.remove('hidden');
            }
        });
    </script>
</body>
</html>
