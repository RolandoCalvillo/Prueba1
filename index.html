<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluación Modular</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
            color: #1a202c;
        }
        .container {
            max-width: 900px;
            margin: auto;
            padding: 2rem;
        }
        .card {
            background-color: #ffffff;
            border-radius: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 2rem;
        }
        .v-enter-active, .v-leave-active {
            transition: opacity 0.5s ease;
        }
        .v-enter-from, .v-leave-to {
            opacity: 0;
        }
        .progress-bar-bg {
            background-color: #e2e8f0;
            border-radius: 9999px;
        }
        .progress-bar-fill {
            background-color: #2a6aff;
            height: 100%;
            border-radius: 9999px;
            transition: width 1s ease-in-out;
        }
        .progress-bar-fill-orange {
            background-color: #ff8500;
        }
        .tab-button {
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-weight: 600;
            transition: background-color 0.3s, color 0.3s;
        }
        .tab-button.active {
            background-color: #2a6aff;
            color: #ffffff;
        }
        .tab-button:not(.active):hover {
            background-color: #e2e8f0;
        }
        .flip-card {
            background-color: transparent;
            width: 100%;
            height: 100%;
            perspective: 1000px;
        }
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .flip-card:hover .flip-card-inner {
            transform: rotateY(180deg);
        }
        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 1rem;
        }
        .flip-card-front {
            background-color: #ffffff;
            color: #1a202c;
        }
        .flip-card-back {
            background-color: #ffffff;
            color: #1a202c;
            transform: rotateY(180deg);
        }
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            animation: fade-in 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">

    <div id="app" class="container">
        <!-- Pantalla de Inicio -->
        <div id="homeScreen" class="text-center fade-in">
            <div class="mb-8">
                <img src="https://i.ibb.co/m5QcyKWg/Logo-CNCI.png" alt="Logo CNCI" class="h-16 mx-auto mb-4">
                <h1 class="text-3xl font-bold text-gray-800">Evaluación Modular – Departamento de Servicios Estudiantiles ✨</h1>
                <p class="text-lg text-gray-600 mt-2">Módulo M8, Agosto 2025 🗓️</p>
            </div>
            <div class="card p-8 w-full max-w-md mx-auto">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Acceso al Sistema 🔐</h2>
                <p class="text-gray-600 mb-6">Consulta tu desempeño del módulo de manera detallada ingresando tu usuario Vici.</p>
                <div class="mb-6">
                    <label for="usernameInput" class="block text-left text-sm font-medium text-gray-700 mb-1">Usuario Vici</label>
                    <input type="text" id="usernameInput" placeholder="Ejemplo: Asesor01" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
                </div>
                <div id="errorMessage" class="text-red-500 mb-4 hidden"></div>
                <button id="consultButton" class="w-full bg-blue-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-600 transition duration-300 transform hover:scale-105">
                    Consultar mi Evaluación 🚀
                </button>
            </div>
        </div>

        <!-- Pantalla de Evaluación -->
        <div id="reportScreen" class="hidden fade-in">
            <div class="flex justify-between items-center mb-6">
                <div class="flex items-center space-x-4">
                    <button id="backButton" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition duration-300">
                        ← Volver
                    </button>
                    <img src="https://i.ibb.co/m5QcyKWg/Logo-CNCI.png" alt="Logo CNCI" class="h-12">
                </div>
            </div>
            
            <div class="card mb-6">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-3xl font-bold text-gray-800">Resultados de Evaluación 📊</h2>
                    <div id="userNameDisplay" class="text-lg font-semibold text-gray-700"></div>
                </div>
                
                <div class="flex space-x-2 border-b border-gray-200 mb-6">
                    <button id="tab-resumen" class="tab-button active">Resumen General 📋</button>
                    <button id="tab-tendencias" class="tab-button">Tendencias 📈</button>
                    <button id="tab-insignias" class="tab-button">Insignias 🏅</button>
                    <button id="tab-plan" class="tab-button">Plan de Mejora 📝</button>
                </div>

                <!-- Contenido de Pestañas -->
                <div id="tab-content-container">
                    <!-- Pestaña Resumen General -->
                    <div id="resumen-content" class="tab-content fade-in">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div class="bg-gradient-to-r from-green-400 to-green-500 text-white p-6 rounded-2xl flex flex-col justify-center items-center">
                                <span class="text-lg font-semibold">Calificación General ⭐</span>
                                <span id="calificacionGeneral" class="text-5xl font-bold mt-2"></span>
                            </div>
                            <div class="bg-gradient-to-r from-orange-400 to-orange-500 text-white p-6 rounded-2xl flex flex-col justify-center items-center">
                                <span class="text-lg font-semibold">Meta de Llamadas 📞</span>
                                <span id="metaLlamadas" class="text-5xl font-bold mt-2"></span>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <!-- Criterios de Evaluación -->
                            <!-- Tarjetas con flip -->
                        </div>

                        <div id="criteriosContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                            <!-- Los criterios de evaluación se insertarán aquí dinámicamente -->
                        </div>
                        
                        <div class="bg-gray-50 p-6 rounded-2xl border border-gray-200">
                            <h3 class="text-xl font-semibold mb-2 text-gray-800">Comentarios Generales del Supervisor 💬</h3>
                            <p id="comentariosSupervisor" class="text-gray-700 leading-relaxed"></p>
                        </div>
                        
                        <div class="mt-6">
                            <a id="detallesEvaluacionLink" href="#" target="_blank" class="w-full bg-blue-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-600 transition duration-300 block text-center">
                                Detalles de Evaluación 🔎
                            </a>
                        </div>
                    </div>
                    
                    <!-- Pestaña Tendencias -->
                    <div id="tendencias-content" class="tab-content hidden fade-in">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">Evolución de Desempeño Anual 📈</h3>
                        <div class="w-full aspect-video bg-gray-50 rounded-lg p-4 mb-8 flex justify-center items-center">
                            <!-- Gráfica de ejemplo -->
                            <img src="https://i.ibb.co/3k5M8Pz/tendencias-ejemplo.png" alt="Gráfica de Tendencias" class="w-full h-auto object-contain">
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                            <div class="card p-6">
                                <h4 class="text-xl font-semibold mb-2 text-gray-800">La Mayor Mejora 🏆</h4>
                                <p id="mayorMejora" class="text-gray-700"></p>
                                <div class="mt-4 bg-gray-50 p-4 rounded-lg border border-gray-200">
                                    <h5 class="font-semibold text-gray-800 mb-1">Comentarios del Supervisor 💬</h5>
                                    <p id="comentariosMejora" class="text-gray-700"></p>
                                </div>
                            </div>
                            <div class="card p-6">
                                <h4 class="text-xl font-semibold mb-2 text-gray-800">Área Crítica 🚨</h4>
                                <p id="areaCritica" class="text-gray-700"></p>
                                <div class="mt-4 bg-gray-50 p-4 rounded-lg border border-gray-200">
                                    <h5 class="font-semibold text-gray-800 mb-1">Comentarios del Supervisor 💬</h5>
                                    <p id="comentariosCritica" class="text-gray-700"></p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Pestaña Insignias -->
                    <div id="insignias-content" class="tab-content hidden fade-in">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">Tus Insignias 🏅</h3>
                        <div id="insigniasContainer" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                            <!-- Las insignias se insertarán aquí dinámicamente -->
                        </div>
                        <div class="card p-6">
                            <h4 class="text-xl font-semibold mb-4 text-gray-800">Próximas Insignias ➡️</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <h5 class="font-semibold text-gray-800 mb-2">Fortalezas 💪</h5>
                                    <ul id="fortalezasList" class="list-disc list-inside space-y-1 text-gray-700">
                                        <!-- Fortalezas se insertarán aquí -->
                                    </ul>
                                </div>
                                <div>
                                    <h5 class="font-semibold text-gray-800 mb-2">Áreas de Oportunidad 🌱</h5>
                                    <ul id="oportunidadesList" class="list-disc list-inside space-y-1 text-gray-700">
                                        <!-- Oportunidades se insertarán aquí -->
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Pestaña Plan de Mejora -->
                    <div id="plan-content" class="tab-content hidden fade-in">
                        <div class="card p-6">
                            <h3 class="text-2xl font-bold text-gray-800 mb-4">Plan de Mejora 🎯</h3>
                            <p class="text-gray-700 leading-relaxed mb-4">
                                Instrucciones para el Plan de Mejora. A partir de los resultados de tu evaluación, identifica de 3 a 4 áreas de oportunidad y describe acciones concretas que puedas implementar para mejorarlas. Indica el plazo estimado y cómo darás seguimiento a cada acción. Sé específico y realista para facilitar el cumplimiento y la evaluación de avances.
                            </p>
                            <p class="text-gray-700 leading-relaxed mb-6">
                                Ingresa al siguiente enlace, redacta y establece tu plan de mejora antes del 11 de septiembre de 2025.
                            </p>
                            <a href="https://docs.google.com/document/d/1234567890abcdefghijklmnopqrstuvwxyz" target="_blank" class="w-full bg-orange-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-orange-600 transition duration-300 block text-center">
                                Ir a mi Plan de Mejora ✍️
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const users = {
            "Asesor01": {
                name: "Asesor 01",
                generalScore: 92,
                callGoal: 100,
                metrics: {
                    "Retención 🛡️": {
                        supervision: { score: 95, comment: "Excelente seguimiento de casos de deserción. Mantén el buen trabajo." },
                        quality: { score: 90, comment: "La comunicación con los estudiantes en riesgo es muy efectiva." }
                    },
                    "Reincorporación 🔄": {
                        supervision: { score: 85, comment: "Buen trabajo en la reconexión de estudiantes inactivos. Podemos mejorar la tasa." },
                        quality: { score: 80, comment: "Identifica oportunidades de mejora en la oferta de soluciones para reingreso." }
                    },
                    "Procesos ✅": {
                        supervision: { score: 98, comment: "Cumplimiento impecable de todos los procesos administrativos. ¡Sigue así!" },
                        quality: { score: 98, comment: "Manejo experto y eficiente de la documentación y flujos de trabajo." }
                    },
                    "Llamada 📞": {
                        supervision: { score: 95, comment: "Las llamadas son claras, profesionales y siempre resuelven las dudas." },
                        quality: { score: 92, comment: "Excelente tono de voz y empatía con los estudiantes." }
                    },
                    "WhatsApp 📱": {
                        supervision: { score: 90, comment: "Respuestas rápidas y precisas. La atención es de alta calidad." },
                        quality: { score: 88, comment: "La escritura es clara y concisa, evitando malentendidos." }
                    },
                    "Correo electrónico 📧": {
                        supervision: { score: 95, comment: "Respuestas completas y bien estructuradas. ¡Muy profesional!" },
                        quality: { score: 95, comment: "La gramática y ortografía son perfectas. Excelente." }
                    },
                    "Viva Engage 💬": {
                        supervision: { score: 98, comment: "Participación activa y constructiva en la comunidad. ¡Liderazgo notable!" },
                        quality: { score: 98, comment: "Aportes valiosos que ayudan a la colaboración del equipo." }
                    },
                    "Actividades administrativas 📝": {
                        supervision: { score: 95, comment: "Entrega de reportes y tareas en tiempo y forma. Excelente organización." },
                        quality: { score: 90, comment: "Manejo eficiente de la plataforma y herramientas internas." }
                    }
                },
                supervisorComments: "Asesor01 ha mostrado un excelente desempeño este mes. Su atención al cliente es destacable y sigue los protocolos de manera consistente. Debe mejorar en los tiempos de respuesta para alcanzar los objetivos del equipo.",
                badges: [
                    "Precisión en calidad",
                    "Solucionador(a)",
                    "Maestro(a) de procesos"
                ],
                upcomingBadges: {
                    fortalezas: [
                        "Excelente seguimiento de protocolos de atención",
                        "Alta calidad en la comunicación con clientes",
                        "Buena capacidad para resolver casos complejos"
                    ],
                    oportunidades: [
                        "Mejorar tiempos de respuesta en llamadas de alto volumen",
                        "Incrementar conocimiento de productos nuevos",
                        "Desarrollar técnicas de venta cruzada"
                    ]
                }
            },
            "Asesor02": {
                name: "Asesor 02",
                generalScore: 85,
                callGoal: 85,
                metrics: {
                    "Retención 🛡️": {
                        supervision: { score: 80, comment: "Necesita más proactividad en el seguimiento de estudiantes." },
                        quality: { score: 75, comment: "Los comentarios podrían ser más empáticos." }
                    },
                    "Reincorporación 🔄": {
                        supervision: { score: 90, comment: "Excelente en la persuasión para el reingreso." },
                        quality: { score: 85, comment: "Muestra gran habilidad para identificar las necesidades del estudiante." }
                    },
                    "Procesos ✅": {
                        supervision: { score: 85, comment: "Buen manejo de procesos, aunque podría agilizar algunos." },
                        quality: { score: 88, comment: "Sigue los pasos de manera correcta, pero hay margen de mejora en la eficiencia." }
                    },
                    "Llamada 📞": {
                        supervision: { score: 88, comment: "Comunica claramente, pero a veces su tono es monótono." },
                        quality: { score: 85, comment: "Buena capacidad de escucha, pero podría ser más asertivo en las respuestas." }
                    },
                    "WhatsApp 📱": {
                        supervision: { score: 80, comment: "A veces tarda en responder. Hay que mejorar los tiempos." },
                        quality: { score: 78, comment: "Las respuestas son funcionales, pero no muy personalizadas." }
                    },
                    "Correo electrónico 📧": {
                        supervision: { score: 90, comment: "Respuestas bien elaboradas. Un buen trabajo." },
                        quality: { score: 92, comment: "La redacción es impecable. Muy profesional." }
                    },
                    "Viva Engage 💬": {
                        supervision: { score: 75, comment: "Participa poco en la plataforma de la comunidad." },
                        quality: { score: 80, comment: "Aportes esporádicos. Podría ser más constante." }
                    },
                    "Actividades administrativas 📝": {
                        supervision: { score: 90, comment: "Entrega los reportes a tiempo. Buena organización." },
                        quality: { score: 88, comment: "El llenado de formatos es correcto y preciso." }
                    }
                },
                supervisorComments: "Asesor02 muestra una fortaleza en la reincorporación de estudiantes. Es muy metódico en sus procesos. Como área de oportunidad, se sugiere mejorar en su comunicación vía WhatsApp y una mayor participación en Viva Engage.",
                badges: [
                    "Estratega de reincorporación",
                    "Completitud en procesos"
                ],
                upcomingBadges: {
                    fortalezas: [
                        "Habilidad para reincorporar estudiantes",
                        "Capacidad de seguimiento de procesos",
                        "Proactividad en el área de retención"
                    ],
                    oportunidades: [
                        "Mejorar tiempos de respuesta en WhatsApp",
                        "Incrementar la participación en Viva Engage",
                        "Optimizar la comunicación por correo electrónico"
                    ]
                }
            },
            // Agrega más usuarios aquí con información de ejemplo
            "Asesor03": {
                name: "Asesor 03", generalScore: 78, callGoal: 70, supervisorComments: "Asesor03 necesita mejorar su proactividad y seguimiento. Los reportes están incompletos.",
                metrics: {
                    "Retención 🛡️": { supervision: { score: 70, comment: "" }, quality: { score: 65, comment: "" } },
                    "Reincorporación 🔄": { supervision: { score: 75, comment: "" }, quality: { score: 70, comment: "" } },
                    "Procesos ✅": { supervision: { score: 80, comment: "" }, quality: { score: 75, comment: "" } },
                    "Llamada 📞": { supervision: { score: 80, comment: "" }, quality: { score: 75, comment: "" } },
                    "WhatsApp 📱": { supervision: { score: 70, comment: "" }, quality: { score: 68, comment: "" } },
                    "Correo electrónico 📧": { supervision: { score: 75, comment: "" }, quality: { score: 72, comment: "" } },
                    "Viva Engage 💬": { supervision: { score: 60, comment: "" }, quality: { score: 55, comment: "" } },
                    "Actividades administrativas 📝": { supervision: { score: 70, comment: "" }, quality: { score: 65, comment: "" } }
                },
                badges: [], upcomingBadges: { fortalezas: ["Conocimiento de procesos"], oportunidades: ["Mayor comunicación", "Organización en el trabajo"] }
            },
            "Asesor04": {
                name: "Asesor 04", generalScore: 95, callGoal: 98, supervisorComments: "¡Excelente! Asesor04 es un ejemplo a seguir. Todo su desempeño ha sido sobresaliente.",
                metrics: {
                    "Retención 🛡️": { supervision: { score: 98, comment: "" }, quality: { score: 95, comment: "" } },
                    "Reincorporación 🔄": { supervision: { score: 96, comment: "" }, quality: { score: 94, comment: "" } },
                    "Procesos ✅": { supervision: { score: 99, comment: "" }, quality: { score: 98, comment: "" } },
                    "Llamada 📞": { supervision: { score: 97, comment: "" }, quality: { score: 96, comment: "" } },
                    "WhatsApp 📱": { supervision: { score: 95, comment: "" }, quality: { score: 93, comment: "" } },
                    "Correo electrónico 📧": { supervision: { score: 98, comment: "" }, quality: { score: 97, comment: "" } },
                    "Viva Engage 💬": { supervision: { score: 99, comment: "" }, quality: { score: 98, comment: "" } },
                    "Actividades administrativas 📝": { supervision: { score: 98, comment: "" }, quality: { score: 97, comment: "" } }
                },
                badges: ["Maestro(a) de procesos", "Precisión en calidad", "Solucionador(a)", "Proactivo(s)"],
                upcomingBadges: { fortalezas: ["Rendimiento sobresaliente en todas las áreas"], oportunidades: ["Mantener el nivel"] }
            },
            // ... (Agregar más usuarios si se necesita)
        };

        const homeScreen = document.getElementById('homeScreen');
        const reportScreen = document.getElementById('reportScreen');
        const usernameInput = document.getElementById('usernameInput');
        const consultButton = document.getElementById('consultButton');
        const backButton = document.getElementById('backButton');
        const errorMessage = document.getElementById('errorMessage');

        const userNameDisplay = document.getElementById('userNameDisplay');
        const calificacionGeneral = document.getElementById('calificacionGeneral');
        const metaLlamadas = document.getElementById('metaLlamadas');
        const comentariosSupervisor = document.getElementById('comentariosSupervisor');
        const detallesEvaluacionLink = document.getElementById('detallesEvaluacionLink');
        const criteriosContainer = document.getElementById('criteriosContainer');
        const insigniasContainer = document.getElementById('insigniasContainer');
        const fortalezasList = document.getElementById('fortalezasList');
        const oportunidadesList = document.getElementById('oportunidadesList');

        const tabs = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');

        const mayorMejora = document.getElementById('mayorMejora');
        const comentariosMejora = document.getElementById('comentariosMejora');
        const areaCritica = document.getElementById('areaCritica');
        const comentariosCritica = document.getElementById('comentariosCritica');
        
        // Función para mostrar/ocultar pantallas
        function showScreen(screenId) {
            homeScreen.classList.add('hidden');
            reportScreen.classList.add('hidden');
            document.getElementById(screenId).classList.remove('hidden');
        }

        // Función para cambiar de pestaña
        function changeTab(tabId) {
            tabs.forEach(tab => tab.classList.remove('active'));
            document.getElementById(`tab-${tabId}`).classList.add('active');

            tabContents.forEach(content => content.classList.add('hidden'));
            document.getElementById(`${tabId}-content`).classList.remove('hidden');
        }

        // Manejar el clic en los botones de pestaña
        tabs.forEach(tab => {
            tab.addEventListener('click', (e) => {
                const tabId = e.target.id.replace('tab-', '');
                changeTab(tabId);
            });
        });

        // Manejar el clic del botón de consulta o Enter
        function handleConsult() {
            const username = usernameInput.value.trim();
            if (users[username]) {
                const userData = users[username];
                renderReport(userData);
                showScreen('reportScreen');
                // Al cargar el reporte, mostrar siempre la primera pestaña
                changeTab('resumen');
            } else {
                errorMessage.textContent = "Usuario no encontrado. Por favor, revisa el nombre de usuario.";
                errorMessage.classList.remove('hidden');
            }
        }

        consultButton.addEventListener('click', handleConsult);
        usernameInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                handleConsult();
            }
        });

        backButton.addEventListener('click', () => {
            showScreen('homeScreen');
            usernameInput.value = '';
            errorMessage.classList.add('hidden');
        });

        function createMetricCard(metricName, metricData) {
            const card = document.createElement('div');
            card.className = 'flip-card bg-white p-4 rounded-2xl cursor-pointer';

            const innerCard = document.createElement('div');
            innerCard.className = 'flip-card-inner';

            const front = document.createElement('div');
            front.className = 'flip-card-front';
            front.innerHTML = `
                <h4 class="font-semibold text-gray-800 text-lg mb-2">${metricName}</h4>
                <div class="mb-4">
                    <span class="text-3xl font-bold text-blue-600">${metricData.supervision.score}%</span>
                    <p class="text-sm text-gray-500">Supervisión</p>
                </div>
                <p class="text-sm text-gray-600 leading-tight">${metricData.supervision.comment}</p>
            `;

            const back = document.createElement('div');
            back.className = 'flip-card-back';
            back.innerHTML = `
                <h4 class="font-semibold text-gray-800 text-lg mb-2">${metricName}</h4>
                <div class="mb-4">
                    <span class="text-3xl font-bold text-orange-600">${metricData.quality.score}%</span>
                    <p class="text-sm text-gray-500">Calidad</p>
                </div>
                <p class="text-sm text-gray-600 leading-tight">${metricData.quality.comment}</p>
            `;

            innerCard.appendChild(front);
            innerCard.appendChild(back);
            card.appendChild(innerCard);
            return card;
        }

        function createBadgeElement(badgeText) {
            const div = document.createElement('div');
            div.className = 'card p-4 text-center';
            div.innerHTML = `
                <span class="text-4xl">🏅</span>
                <h5 class="font-semibold text-gray-800 mt-2">${badgeText}</h5>
            `;
            return div;
        }

        function renderReport(userData) {
            // General
            userNameDisplay.textContent = userData.name;
            calificacionGeneral.textContent = `${userData.generalScore}%`;
            metaLlamadas.textContent = `${userData.callGoal}%`;
            comentariosSupervisor.textContent = userData.supervisorComments;

            // Pestaña Resumen General
            criteriosContainer.innerHTML = ''; // Limpiar contenedor
            for (const metric in userData.metrics) {
                const card = createMetricCard(metric, userData.metrics[metric]);
                criteriosContainer.appendChild(card);
            }
            
            // Pestaña Tendencias (datos de ejemplo)
            mayorMejora.innerHTML = 'Retención <span class="text-green-500 font-bold">+5%</span> respecto al mes anterior.';
            comentariosMejora.textContent = 'Este mes has puesto un gran esfuerzo en retención y se nota. ¡Excelente trabajo!';
            areaCritica.innerHTML = 'WhatsApp <span class="text-red-500 font-bold">-2%</span> respecto al mes anterior.';
            comentariosCritica.textContent = 'Hay una leve disminución en la métrica de WhatsApp. Revisemos los tiempos de respuesta.';

            // Pestaña Insignias
            insigniasContainer.innerHTML = ''; // Limpiar contenedor
            userData.badges.forEach(badge => {
                const badgeEl = createBadgeElement(badge);
                insigniasContainer.appendChild(badgeEl);
            });

            fortalezasList.innerHTML = '';
            userData.upcomingBadges.fortalezas.forEach(fortaleza => {
                const li = document.createElement('li');
                li.textContent = fortaleza;
                fortalezasList.appendChild(li);
            });

            oportunidadesList.innerHTML = '';
            userData.upcomingBadges.oportunidades.forEach(oportunidad => {
                const li = document.createElement('li');
                li.textContent = oportunidad;
                oportunidadesList.appendChild(li);
            });

        }
    </script>
</body>
</html>
